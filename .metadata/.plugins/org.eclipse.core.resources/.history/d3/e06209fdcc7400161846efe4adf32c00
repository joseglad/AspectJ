import org.aspectj.lang.reflect.MethodSignature;


public aspect AspectTest {
	pointcut toBeTraced():
		call( public void B.print(String) ) ||
		execution( public void B.print(String));
	
	before(): toBeTraced() {
		System.out.println("--");
		System.out.println("before toBeTraced");
		System.out.println("Source : " + thisJoinPoint.getThis());
		System.out.println("Cible : " + thisJoinPoint.getTarget());
		System.out.println("Nom de la méthode : " + ((MethodSignature) thisJoinPoint.getSignature()).getName());
		Object[] objects = thisJoinPoint.getArgs();
		System.out.print("Paramètres : ");
		for(int i = 0; i < objects.length; i++) {
			System.out.print(objects[i] + "; ");
		}
		System.out.println();
		System.out.println("--");
		
	}
}
