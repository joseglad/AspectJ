package singleton;

import exercice2.etape1.*;

public aspect ASingleton {
	private boolean clientsCreated = false;
	private boolean ordersCreated = false;
	
	pointcut newClients():
		call(public Clients.new(..));
	
	pointcut execClients():
		execution(public Clients.new(..));
		
	before(): newClients() {
		System.out.println("ASingleton : appel de new Clients");
	}
	
	void around(): execClients() {
		if(!this.clientsCreated) proceed();
		System.out.println("ASingleton : ex√©cution de new Clients");
		this.clientsCreated = true;
	}
}
